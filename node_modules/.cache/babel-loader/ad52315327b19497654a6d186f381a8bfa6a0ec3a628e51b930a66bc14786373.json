{"ast":null,"code":"import { create } from 'zustand';\nimport * as VIAM from '@viamrobotics/sdk';\nimport { getRobotClient, getCameraClient, getSensorClient } from './client.js';\nexport const useRobotStore = create < RobotState > ((set, get) => ({\n  robotClient: null,\n  connected: false,\n  connecting: false,\n  error: null,\n  connect: async () => {\n    try {\n      set({\n        connecting: true,\n        error: null\n      });\n      const client = await getRobotClient();\n      set({\n        robotClient: client,\n        connected: true,\n        connecting: false\n      });\n    } catch (error) {\n      set({\n        error: `Failed to connect: ${error instanceof Error ? error.message : String(error)}`,\n        connecting: false\n      });\n    }\n  },\n  disconnect: async () => {\n    const {\n      robotClient\n    } = get();\n    if (robotClient) {\n      // The SDK documentation doesn't specify a clear method for disconnecting\n      // Simply update the state and let garbage collection handle the rest\n      set({\n        robotClient: null,\n        connected: false\n      });\n    }\n  },\n  getSensorReadings: async sensorName => {\n    const {\n      robotClient\n    } = get();\n    if (!robotClient) throw new Error(\"Not connected to robot\");\n    const sensorClient = getSensorClient(robotClient, sensorName);\n    return await sensorClient.getReadings();\n  }\n}));","map":{"version":3,"names":["create","VIAM","getRobotClient","getCameraClient","getSensorClient","useRobotStore","RobotState","set","get","robotClient","connected","connecting","error","connect","client","Error","message","String","disconnect","getSensorReadings","sensorName","sensorClient","getReadings"],"sources":["/home/cjp7591/dev/dashboard/src/state.js"],"sourcesContent":["import { create } from 'zustand';\nimport * as VIAM from '@viamrobotics/sdk';\nimport { getRobotClient, getCameraClient, getSensorClient } from './client.js';\n\ninterface RobotState {\n  robotClient: VIAM.RobotClient | null;\n  connected: boolean;\n  connecting: boolean;\n  error: string | null;\n  connect: () => Promise<void>;\n  disconnect: () => Promise<void>;\n  getSensorReadings: (sensorName: string) => Promise<Record<string, any>>;\n}\n\nexport const useRobotStore = create<RobotState>((set, get) => ({\n  robotClient: null,\n  connected: false,\n  connecting: false,\n  error: null,\n  connect: async () => {\n    try {\n      set({ connecting: true, error: null });\n      const client = await getRobotClient();\n      set({ robotClient: client, connected: true, connecting: false });\n    } catch (error) {\n      set({\n        error: `Failed to connect: ${error instanceof Error ? error.message : String(error)}`,\n        connecting: false,\n      });\n    }\n  },\ndisconnect: async () => {\n    const { robotClient } = get();\n    if (robotClient) {\n      // The SDK documentation doesn't specify a clear method for disconnecting\n      // Simply update the state and let garbage collection handle the rest\n      set({ robotClient: null, connected: false });\n    }\n  },\n  getSensorReadings: async (sensorName: string) => {\n    const { robotClient } = get();\n    if (!robotClient) throw new Error(\"Not connected to robot\");\n    \n    const sensorClient = getSensorClient(robotClient, sensorName);\n    return await sensorClient.getReadings();\n  },\n}));"],"mappings":"AAAA,SAASA,MAAM,QAAQ,SAAS;AAChC,OAAO,KAAKC,IAAI,MAAM,mBAAmB;AACzC,SAASC,cAAc,EAAEC,eAAe,EAAEC,eAAe,QAAQ,aAAa;AAY9E,OAAO,MAAMC,aAAa,GAAGL,MAAM,GAACM,UAAU,IAAE,CAACC,GAAG,EAAEC,GAAG,MAAM;EAC7DC,WAAW,EAAE,IAAI;EACjBC,SAAS,EAAE,KAAK;EAChBC,UAAU,EAAE,KAAK;EACjBC,KAAK,EAAE,IAAI;EACXC,OAAO,EAAE,MAAAA,CAAA,KAAY;IACnB,IAAI;MACFN,GAAG,CAAC;QAAEI,UAAU,EAAE,IAAI;QAAEC,KAAK,EAAE;MAAK,CAAC,CAAC;MACtC,MAAME,MAAM,GAAG,MAAMZ,cAAc,CAAC,CAAC;MACrCK,GAAG,CAAC;QAAEE,WAAW,EAAEK,MAAM;QAAEJ,SAAS,EAAE,IAAI;QAAEC,UAAU,EAAE;MAAM,CAAC,CAAC;IAClE,CAAC,CAAC,OAAOC,KAAK,EAAE;MACdL,GAAG,CAAC;QACFK,KAAK,EAAE,sBAAsBA,KAAK,YAAYG,KAAK,GAAGH,KAAK,CAACI,OAAO,GAAGC,MAAM,CAACL,KAAK,CAAC,EAAE;QACrFD,UAAU,EAAE;MACd,CAAC,CAAC;IACJ;EACF,CAAC;EACHO,UAAU,EAAE,MAAAA,CAAA,KAAY;IACpB,MAAM;MAAET;IAAY,CAAC,GAAGD,GAAG,CAAC,CAAC;IAC7B,IAAIC,WAAW,EAAE;MACf;MACA;MACAF,GAAG,CAAC;QAAEE,WAAW,EAAE,IAAI;QAAEC,SAAS,EAAE;MAAM,CAAC,CAAC;IAC9C;EACF,CAAC;EACDS,iBAAiB,EAAE,MAAOC,UAAkB,IAAK;IAC/C,MAAM;MAAEX;IAAY,CAAC,GAAGD,GAAG,CAAC,CAAC;IAC7B,IAAI,CAACC,WAAW,EAAE,MAAM,IAAIM,KAAK,CAAC,wBAAwB,CAAC;IAE3D,MAAMM,YAAY,GAAGjB,eAAe,CAACK,WAAW,EAAEW,UAAU,CAAC;IAC7D,OAAO,MAAMC,YAAY,CAACC,WAAW,CAAC,CAAC;EACzC;AACF,CAAC,CAAC,CAAC","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}